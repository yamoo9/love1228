var varUA=navigator.userAgent.toLowerCase(),delay=300,timer=null,container=[],ratio=1;$(document).ready(function(t){$(".policy .title").click(function(){$(this).parent().toggleClass("on")}),timer=setTimeout(function(){$(".loader_mcard").hide(),void 0!==$(".d_day").val()&&($(".d_day").css("font-size",parseInt($(".d_day").css("font-size").replace("px",""))*ratio+"px"),setDday($("#eventDate").val()))},delay),resizePage(),"true"==$("#isPopup").val()&&"Y"!=getCookie("isPopupNotToday")&&$(".attend_pop").show(),$(window).resize(function(t){}),$(".list_con").slideDown(),$(".info_detail").on("click",function(){$(this).parent(".list_wrap").toggleClass("on"),$(".list_con").slideToggle()}),$("#gallery").find("figure").each(function(){var t=$(this).find("a"),t={src:t.attr("href"),w:t.data("width"),h:t.data("height"),title:t.data("caption")};container.push(t)});var e=null;0<$(".gallery-thumbs").length&&(e=new Swiper(".gallery-thumbs",{spaceBetween:10,slidesPerView:3,loop:!0,freeMode:!0,loopedSlides:5,watchSlidesVisibility:!0,watchSlidesProgress:!0}));null!=e&&new Swiper(".gallery-top",{spaceBetween:10,autoHeight:!0,loop:!0,loopedSlides:5,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:e}}),$(document).width()<500&&$(".iframe_wrap iframe").css("height","191px"),0<$("a.btn_guestbook_more").length&&$("a.btn_guestbook_more").click(),$(".tab_btn").on("click",function(){var t=$(this).data("tab");$(".tab_btn").removeClass("active"),$(this).addClass("active"),$(".tab_content").removeClass("active").hide(),$("#"+t).addClass("active").show();let e="tab_priest"==t?1:0;$("#rsvpReg").attr("onclick","rsvpSave("+e+");")}),$(".tab_btn:first").click(),$(".bottom_pop .btn_box .btn").click(function(){$(this).closest(".btn_box").find(".btn").removeClass("active"),$(this).addClass("active")}),$(".eatTypeBtn").on("click",function(t){$(this).parent().parent().find("input[name='EatType']").val($(this).data("type"))}),$(".isBusBtn").on("click",function(t){$(this).parent().parent().find("input[name='IsBus']").val($(this).data("type"))})}),$("a.copy_url").on("click",function(t){return t.preventDefault(),copyToClipboard($(this).attr("href")),!(-1<varUA.indexOf("android"))&&void toastPopup("URL이 복사되었습니다.",1500)}),$("a.an_btn").on("click",function(t){t.preventDefault(),$("div.account_pop").hide();var a=$(this).attr("data-idx");$("div.account_pop").each(function(t,e){$(e).attr("data-idx")==a&&($(e).show(),scrollDisable())})}),$(".btn.close").on("click",function(t){t.preventDefault(),$("div.account_pop").hide(),scrollAble()}),$("a.copy_account").on("click",function(t){t.preventDefault();t=$(this).attr("data-account").replace(/-/g,"");if(copyToClipboard(t),-1<varUA.indexOf("android"))return!1;toastPopup("복사되었습니다.",1500)}),$("#frmGuestbook").on("submit",function(t){t.preventDefault();var e=$(this),t=e.attr("action");$.ajax({cache:!1,url:t,type:"POST",data:e.serialize()}).done(function(t,e,a){$(".write_box").find("input").val(""),toastPopup(t.message,2e3),1==t.status&&($("#guestbook").html(""),$("a.btn_guestbook_more").click())})}),$("a.btn_guestbook_more").on("click",function(t){t.preventDefault();var e=$(this).attr("href"),t=0;0<$(".guestbook_item").length&&(t=$(".guestbook_item").last().data("guestbook-id")),loadGuestbook(e+="&idx="+t,"next")}),$("a.btn_guestbook_all").on("click",function(t){t.preventDefault();t=$(this).attr("href");loadGuestbook(t,"all")});var loadGuestbook=function(t,i){$.ajax({url:t,method:"get",data:{}}).done(function(t,e,a){"all"==i?$("#guestbook").html(t):$("#guestbook").append(t)})};$("body").on("click","button.message_del",function(t){t.preventDefault(),$(this).parents("li").find(".password_check").slideToggle()}),$("body").on("click","a.btn_delete_guestbook",function(t){t.preventDefault();var e=$(this).attr("href"),t=$(this).parent().find('input[name="password"]').val();$.ajax({cache:!1,url:e,type:"POST",data:{Password:t}}).done(function(t,e,a){toastPopup(t.message,2e3),1==t.status&&($("#guestbook").html(""),$("a.btn_guestbook_more").click())})});var resizePage=function(){ratio=$("#wrap").width()/800,$("div.bindarea").each(function(t,e){var a,i,o,n=$(e).height();$(e).children("div.item").each(function(t,e){var a,i=parseInt($(e).css("top"))*ratio,o=parseInt($(e).css("left"))*ratio,n=parseInt($(e).css("width"))*ratio,s=parseInt($(e).css("height"))*ratio;$(e).css("top",i+"px"),$(e).css("left",o+"px"),$(e).hasClass("ITC01")?($(e).css("width",n+"px"),$(e).css("height",s+"px"),i=$(e).children("div.text"),o=parseInt($(i).css("font-size"))*ratio,$(i).css("font-size",o+"px")):$(e).hasClass("ITC02")?(a=$(e).children("img.img"),n=parseInt($(a).css("width"))*ratio,s=parseInt($(a).css("height"))*ratio,$(a).css("width",n+"px"),$(a).css("height",s+"px")):($(e).hasClass("ITC03")||$(e).hasClass("ITC04"))&&($(e).css("width",n+"px"),$(e).css("height",s+"px"),a=$(e).children("img.img"),$(a).css("max-width",n+"px"),$(a).css("max-height",s+"px"))}),"2"==$(e).attr("idx")?(o=30,a=$(e).find(".img").outerHeight(!0)+o,i=$(e).find(".text").outerHeight(!0),$(e).css("min-height",n*ratio+"px"),$(e).css("height",a+i+"px"),$(e).find(".text").parent().css("height",i+"px")):"19"==$(e).attr("idx")?(o=15,$.each($(e).find("div.text"),function(t,e){var a=$(e).outerHeight(!0);o+=a,$(e).parent().css("height",a+"px")}),$(e).find("img.img").height(o+"px"),$(e).css("height",o+"px")):($(e).find(".text",".item").each(function(){$(this).data("height",$(this).outerHeight()),$(this).data("fontSize",parseInt($(this).css("font-size")))}),$(e).css("height",n*ratio+"px"))}),0<$("div.flowergift").length&&($("div.flowergift .templatearea").css("height",224*ratio+"px"),$("div.flowergift .templatearea img").css("height",224*ratio+"px"),$("div.flowergift .templatearea img").css("width",800*ratio+"px")),0<$("div.fundingGift").length&&($("div.fundingGift .templatearea").css("height",224*ratio+"px"),$("div.fundingGift .templatearea img").css("height",224*ratio+"px"),$("div.fundingGift .templatearea img").css("width",800*ratio+"px"))},copyToClipboard=function(t){var e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),e.setSelectionRange(0,9999),document.execCommand("copy"),document.body.removeChild(e)},toastPopup=function(t,e){var a=$("<p>"+t+"</p>");$("div.toast").html(a).show(),a.slideToggle(100,function(){return setTimeout(function(){a.fadeOut(function(){$(this).remove(),$("div.toast").css("bottom","")})},e),!1}),$("div.toast").stop().animate({bottom:"5%"})},scrollDisable=function(){$("body").addClass("scroll_off").on("scroll touchmove mousewheel")},scrollAble=function(){$("body").removeClass("scroll_off").off("scroll touchmove mousewheel")};function setDday(t){var e;void 0!==$(".d_day").val()&&(e=new Date,e=new Date(t)-e,e=Math.ceil(e/864e5),0<parseInt(e)?($(".d_day").text("D-"+parseInt(e)),$(".d_day").show()):0==parseInt(e)?($(".d_day").text("D-Day"),$(".d_day").show()):$(".d_day").hide())}var chkNumber=function(t){$(t).val($(t).val().replace(/[^0-9]/gi,""))};function rsvpSave(t){const i=$("#frmRsvp_"+t);t=i.attr("action");i.find("input[name='Name']").removeClass("er"),i.find("input[name='AttendCount']").removeClass("er"),""==i.find("input[name='Name']").val()?(i.find("input[name='Name']").addClass("er"),alert("성함을 입력해주세요.")):""==i.find("input[name='AttendCount']").val()?(i.find("input[name='AttendCount']").addClass("er"),alert("참석인원을 입력해주세요.")):""==i.find("input[name='EatType']").val()?(i.find("input[name='EatType']").addClass("er"),alert("식사여부를 선택해주세요.")):""==i.find("input[name='IsBus']").val()?(i.find("input[name='IsBus']").addClass("er"),alert("대절버스여부를 선택해주세요.")):i.find("input[name='agree']").prop("checked")?$.ajax({cache:!1,url:t,type:"POST",data:i.serialize()}).done(function(t,e,a){toastPopup(t.message,2e3),1==t.status&&(popClose(),i.find("input[name='EatType'],input[name='IsBus']").val(""),i.find(".eatTypeBtn, .isBusBtn").removeClass("active"),i[0].reset(),$(".rsvp").find(".tab_btn").eq(0).trigger("click"))}):alert("개인정보 수집 및 이용 동의 약관에 동의해주세요.")}function closePopupNotToday(){setCookie("isPopupNotToday","Y",1),$(".attend_pop").hide()}function setCookie(t,e,a){var i=new Date;i.setDate(i.getDate()+a),document.cookie=t+"="+escape(e)+"; path=/; expires="+i.toGMTString()+";"}function getCookie(t){for(var e=t+"=",a=0;a<=document.cookie.length;){var i=a+e.length;if(document.cookie.substring(a,i)==e)return-1==(endOfCookie=document.cookie.indexOf(";",i))&&(endOfCookie=document.cookie.length),unescape(document.cookie.substring(i,endOfCookie));if(0==(a=document.cookie.indexOf(" ",a)+1))break}return""}